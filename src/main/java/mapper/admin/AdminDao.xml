<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace = "dao.admin.AdminDao">
	<insert id="registerAdmin" parameterType="vo.admin.Admin">
		insert into users(userid, userpwd, joindate, first_name, last_name, mail_accept, status, profile_path) 
		values(#{userId}, #{password}, sysdate, #{firstName}, #{lastName}, #{mailReceptionStatus}, #{accountType}, #{profilePath})
	</insert>
	
	<insert id="registerStoreKeeper" parameterType="vo.admin.StoreKeeper">
		insert into storekeeper(storeid, status)
		values(#{storeId}, 'OPEN')
	</insert>
	
	<insert id="registerStore" parameterType="vo.admin.Store">
		insert into store(storeid, name, phone, address, latitude, longitude)
		values(#{storeId}, #{name}, #{phone}, #{address}, #{latitude}, #{longitude})
	</insert>
	
	<insert id="registerStoreDetails" parameterType="vo.admin.StoreDetails">
		insert into store_details(storeid, notice, status, way_to_find, manage_week_time, manage_sat_time, manage_sun_time, store_cnt, certificate_path) 
		values(#{storeId}, '', 'START', '', '오전11:00~오후09:00', '오전11:00~오후09:00', '오전11:00~오후09:00', 0, #{certificatePath})
	</insert>
	
	<!-- 점주 한명 불러오기 -->
<!-- 	<select id="getAdmin" resultType="vo.admin.Admin">
		select userid, userpwd, first_name, last_Name from users where status=0 and userid = #{userid}
	</select>
	
	<update id="updateAdmin">
		update users set userpwd = #{userpwd}, first_name = #{first_name}, last_name = #{last_name} where userid= #{userid}		
	</update> -->
	
	
</mapper>